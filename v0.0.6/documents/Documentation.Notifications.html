<!DOCTYPE html><html class="default" lang="en" data-base="../"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>Notifications | Magek Framework</title><meta name="description" content="Documentation for Magek Framework"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><link rel="stylesheet" href="../assets/custom.css"/><script defer src="../assets/main.js"></script><script defer src="../assets/custom.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script><script async src="../assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="../index.html" class="title">Magek Framework</a><div id="tsd-toolbar-links"><a href="https://github.com/theam/magek">GitHub</a></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb" aria-label="Breadcrumb"><li><a href="Documentation.html">Documentation</a></li><li><a href="" aria-current="page">Notifications</a></li></ul></div><div class="tsd-panel tsd-typography"><h1 id="notifications" class="tsd-anchor-link">Notifications<a href="#notifications" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h1><p>Notifications are an important concept in event-driven architecture, and they play a crucial role in informing interested parties about certain events that take place within an application.</p>
<h2 id="declaring-a-notification" class="tsd-anchor-link">Declaring a notification<a href="#declaring-a-notification" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>In Magek, notifications are defined as classes decorated with the <code>@Notification</code> decorator. Here's a minimal example to illustrate this:</p>
<pre><code class="typescript"><br/><span class="hl-1">@</span><span class="hl-0">Notification</span><span class="hl-1">()</span><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-3">class</span><span class="hl-1"> </span><span class="hl-7">CartAbandoned</span><span class="hl-1"> {}</span>
</code><button type="button">Copy</button></pre>

<p>As you can see, to define a notification you simply need to import the <code>@Notification</code> decorator from the @magek/core library and use it to decorate a class. In this case, the class <code>CartAbandoned</code> represents a notification that informs interested parties that a cart has been abandoned.</p>
<h2 id="separating-by-topic" class="tsd-anchor-link">Separating by topic<a href="#separating-by-topic" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>By default, all notifications in the application will be sent to the same topic called <code>defaultTopic</code>. To configure this, you can specify a different topic name in the <code>@Notification</code> decorator:</p>
<pre><code class="typescript"><br/><span class="hl-1">@</span><span class="hl-0">Notification</span><span class="hl-1">({ </span><span class="hl-4">topic:</span><span class="hl-1"> </span><span class="hl-2">&#39;cart-abandoned&#39;</span><span class="hl-1"> })</span><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-3">class</span><span class="hl-1"> </span><span class="hl-7">CartAbandoned</span><span class="hl-1"> {}</span>
</code><button type="button">Copy</button></pre>

<p>In this example, the <code>CartAbandoned</code> notification will be sent to the <code>cart-abandoned</code> topic, instead of the default topic.</p>
<h2 id="separating-by-partition-key" class="tsd-anchor-link">Separating by partition key<a href="#separating-by-partition-key" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>By default, all the notifications in the application will share a partition key called <code>default</code>. This means that, by default, all the notifications in the application will be processed in order, which may not be as performant.</p>
<p>To change this, you can use the @partitionKey decorator to specify a field that will be used as a partition key for each notification:</p>
<pre><code class="typescript"><br/><span class="hl-1">@</span><span class="hl-0">Notification</span><span class="hl-1">({ </span><span class="hl-4">topic:</span><span class="hl-1"> </span><span class="hl-2">&#39;cart-abandoned&#39;</span><span class="hl-1"> })</span><br/><span class="hl-6">export</span><span class="hl-1"> </span><span class="hl-3">class</span><span class="hl-1"> </span><span class="hl-7">CartAbandoned</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-3">public</span><span class="hl-1"> </span><span class="hl-3">constructor</span><span class="hl-1">(@</span><span class="hl-4">partitionKey</span><span class="hl-1"> </span><span class="hl-3">readonly</span><span class="hl-1"> </span><span class="hl-4">key</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) {}</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>In this example, each <code>CartAbandoned</code> notification will have its own partition key, which is specified in the constructor as the field <code>key</code>, it can be called in any way you want. This will allow for parallel processing of notifications, making the system more performant.</p>
<h2 id="reacting-to-notifications" class="tsd-anchor-link">Reacting to notifications<a href="#reacting-to-notifications" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Just like events, notifications can be handled by event handlers in order to trigger other processes. Event handlers are responsible for listening to events and notifications, and then performing specific actions in response to them.</p>
<p>In conclusion, defining notifications in the Magek Framework is a simple and straightforward process that can be done using the <code>@Notification</code> and <code>@partitionKey</code> decorators.</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="../assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#notifications"><span>Notifications</span></a><ul><li><a href="#declaring-a-notification"><span>Declaring a notification</span></a></li><li><a href="#separating-by-topic"><span>Separating by topic</span></a></li><li><a href="#separating-by-partition-key"><span>Separating by partition key</span></a></li><li><a href="#reacting-to-notifications"><span>Reacting to notifications</span></a></li></ul></div></details></div><div class="site-menu"><nav id="tsd-sidebar-links" class="tsd-navigation"><a href="https://github.com/theam/magek" class="tsd-nav-link">GitHub</a></nav><nav class="tsd-navigation"><a href="../index.html">Magek Framework</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
